import{A as P,B as E,C as _,D as K,E as x,F as g,G as Q,H as W,K as X,M as Y,N as F,O,R as N,S as w,U as Z,a as k,b as $,c as U,d as V,e as z,f as A,g as R,h as q,i as f,j as B,k as J,l as H,m as S,n as l,o as y,p as s,q as u,r as n,s as i,t as m,u as G,v as T,w as v,x as b,y as o,z as d}from"./chunk-VTXWF7RR.js";var I=(()=>{let e=class e{constructor(r){this.http=r,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}search(r,a="capital"){let p=`${this.apiUrl}/${a}/${r}`;return this.http.get(p).pipe(z(()=>this.saveToLocalStorage()),$(()=>k([])),U(2e3))}};e.\u0275fac=function(a){return new(a||e)(q(W))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function se(t,e){t&1&&(n(0,"div",2),o(1,` No hay capitales que mostrar
`),i())}var me=t=>["/countries/by",t];function pe(t,e){if(t&1&&(n(0,"tr",6)(1,"td"),o(2),i(),n(3,"td"),m(4,"img",7),i(),n(5,"td"),o(6),i(),n(7,"td"),o(8),i(),n(9,"td"),o(10),i(),n(11,"td")(12,"a",8),o(13,"Ver m\xE1s"),i()()()),t&2){let c=e.$implicit,r=e.index;l(2),d(r+1),l(2),s("src",c.flags.svg,S)("alt",c.name.common),l(2),d(c.name.official),l(2),d(c.capital),l(2),d(c.population.toLocaleString()),l(2),s("routerLink",E(7,me,c.cca3))}}function de(t,e){if(t&1&&(n(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),o(5,"#"),i(),n(6,"th"),o(7,"Bandera"),i(),n(8,"th"),o(9,"Nombre"),i(),n(10,"th"),o(11,"Capital"),i(),n(12,"th"),o(13,"Poblaci\xF3n"),i(),m(14,"th"),i()(),n(15,"tbody"),u(16,pe,14,9,"tr",5),i()()()),t&2){let c=v();l(16),s("ngForOf",c.countries)}}var ee=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=f({type:e,selectors:[["country-capitalTabla"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-warning","role","alert",4,"ngIf","ngIfElse"],["table",""],["role","alert",1,"alert","alert-warning"],[1,"table-responsive"],[1,"table","table-hover"],["class","",4,"ngFor","ngForOf"],[1,""],["width","150","height","100",3,"src","alt"],[3,"routerLink"]],template:function(a,p){if(a&1&&u(0,se,2,0,"div",0)(1,de,17,1,"ng-template",null,1,_),a&2){let h=b(2);s("ngIf",p.countries.length===0)("ngIfElse",h)}},dependencies:[x,g,F]});let t=e;return t})();function ge(t,e){t&1&&m(0,"shared-spinner")}var ie=(()=>{let e=class e{constructor(r){this.countriesService=r,this.countries=[],this.isLoading=!0}searchByCapital(r){this.isLoading=!1,this.countriesService.search(r).subscribe(a=>{this.countries=a,this.isLoading=!0})}};e.\u0275fac=function(a){return new(a||e)(y(I))},e.\u0275cmp=f({type:e,selectors:[["country-capital"]],decls:11,vars:2,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce"],[4,"ngIf"],[3,"countries"]],template:function(a,p){a&1&&(n(0,"h2"),o(1,"Por Capital"),i(),m(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search",2),T("onDebounce",function(M){return p.searchByCapital(M)}),i()()(),n(6,"div",0)(7,"div",1),m(8,"hr"),u(9,ge,1,0,"shared-spinner",3),m(10,"country-capitalTabla",4),i()()),a&2&&(l(9),s("ngIf",!p.isLoading),l(),s("countries",p.countries))},dependencies:[g,N,w,ee]});let t=e;return t})();function he(t,e){t&1&&(n(0,"div",2),o(1,` No hay pa\xEDses que mostrar
`),i())}var ve=t=>["/countries/by",t];function ye(t,e){if(t&1&&(n(0,"tr",6)(1,"td"),o(2),i(),n(3,"td"),m(4,"img",7),i(),n(5,"td"),o(6),i(),n(7,"td"),o(8),i(),n(9,"td"),o(10),i(),n(11,"td")(12,"a",8),o(13,"Ver m\xE1s"),i()()()),t&2){let c=e.$implicit,r=e.index;l(2),d(r+1),l(2),s("src",c.flags.svg,S)("alt",c.name.common),l(2),d(c.name.official),l(2),d(c.capital),l(2),d(c.population.toLocaleString()),l(2),s("routerLink",E(7,ve,c.cca3))}}function xe(t,e){if(t&1&&(n(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),o(5,"#"),i(),n(6,"th"),o(7,"Bandera"),i(),n(8,"th"),o(9,"Nombre"),i(),n(10,"th"),o(11,"Capital"),i(),n(12,"th"),o(13,"Poblaci\xF3n"),i(),m(14,"th"),i()(),n(15,"tbody"),u(16,ye,14,9,"tr",5),i()()()),t&2){let c=v();l(16),s("ngForOf",c.countries)}}var ne=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=f({type:e,selectors:[["country-countryTabla"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-warning","role","alert",4,"ngIf","ngIfElse"],["table",""],["role","alert",1,"alert","alert-warning"],[1,"table-responsive"],[1,"table","table-hover"],["class","",4,"ngFor","ngForOf"],[1,""],["width","150","height","100",3,"src","alt"],[3,"routerLink"]],template:function(a,p){if(a&1&&u(0,he,2,0,"div",0)(1,xe,17,1,"ng-template",null,1,_),a&2){let h=b(2);s("ngIf",p.countries.length===0)("ngIfElse",h)}},dependencies:[x,g,F]});let t=e;return t})();function Se(t,e){t&1&&m(0,"shared-spinner")}var oe=(()=>{let e=class e{constructor(r){this.countriesService=r,this.countries=[],this.isLoading=!0}searchByCountry(r){this.isLoading=!1,this.countriesService.search(r,"name").subscribe(a=>{this.countries=a,this.isLoading=!0})}};e.\u0275fac=function(a){return new(a||e)(y(I))},e.\u0275cmp=f({type:e,selectors:[["country-country"]],decls:11,vars:2,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"onDebounce"],[4,"ngIf"],[3,"countries"]],template:function(a,p){a&1&&(n(0,"h2"),o(1,"Por Pa\xEDs"),i(),m(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search",2),T("onDebounce",function(M){return p.searchByCountry(M)}),i()()(),n(6,"div",0)(7,"div",1),m(8,"hr"),u(9,Se,1,0,"shared-spinner",3),m(10,"country-countryTabla",4),i()()),a&2&&(l(9),s("ngIf",!p.isLoading),l(),s("countries",p.countries))},dependencies:[g,N,w,ne]});let t=e;return t})();function be(t,e){t&1&&(n(0,"div",2),o(1,` No hay continentes que mostrar
`),i())}var Ee=t=>["/countries/by",t];function _e(t,e){if(t&1&&(n(0,"tr",6)(1,"td"),o(2),i(),n(3,"td"),m(4,"img",7),i(),n(5,"td"),o(6),i(),n(7,"td"),o(8),i(),n(9,"td"),o(10),i(),n(11,"td")(12,"a",8),o(13,"Ver m\xE1s"),i()()()),t&2){let c=e.$implicit,r=e.index;l(2),d(r+1),l(2),s("src",c.flags.svg,S)("alt",c.name.common),l(2),d(c.name.official),l(2),d(c.capital),l(2),d(c.population.toLocaleString()),l(2),s("routerLink",E(7,Ee,c.cca3))}}function Ie(t,e){if(t&1&&(n(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),o(5,"#"),i(),n(6,"th"),o(7,"Bandera"),i(),n(8,"th"),o(9,"Nombre"),i(),n(10,"th"),o(11,"Capital"),i(),n(12,"th"),o(13,"Poblaci\xF3n"),i(),m(14,"th"),i()(),n(15,"tbody"),u(16,_e,14,9,"tr",5),i()()()),t&2){let c=v();l(16),s("ngForOf",c.countries)}}var re=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=f({type:e,selectors:[["country-regionTabla"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["class","alert alert-warning","role","alert",4,"ngIf","ngIfElse"],["table",""],["role","alert",1,"alert","alert-warning"],[1,"table-responsive"],[1,"table","table-hover"],["class","",4,"ngFor","ngForOf"],[1,""],["width","150","height","100",3,"src","alt"],[3,"routerLink"]],template:function(a,p){if(a&1&&u(0,be,2,0,"div",0)(1,Ie,17,1,"ng-template",null,1,_),a&2){let h=b(2);s("ngIf",p.countries.length===0)("ngIfElse",h)}},dependencies:[x,g,F]});let t=e;return t})();var Fe=t=>({"btn-success text-white":t});function we(t,e){if(t&1){let c=G();n(0,"button",6),T("click",function(){let p=J(c).$implicit,h=v();return H(h.searchByRegion(p))}),o(1),i()}if(t&2){let c=e.$implicit,r=v();s("ngClass",E(2,Fe,r.selectedRegion===c)),l(),P(" ",c," ")}}function Le(t,e){t&1&&m(0,"shared-spinner")}var ae=(()=>{let e=class e{constructor(r){this.countriesService=r,this.countries=[],this.isLoading=!0,this.regions=["Africa","America","Asia","Europe","Oceania"]}searchByRegion(r){this.isLoading=!1,this.countriesService.search(r,"region").subscribe(a=>{this.countries=a,this.isLoading=!0,this.selectedRegion=r})}};e.\u0275fac=function(a){return new(a||e)(y(I))},e.\u0275cmp=f({type:e,selectors:[["country-region"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],[1,"d-flex","justify-content-between","flex-wrap","gap-1"],["class","btn btn-outline-success",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"countries"],[1,"btn","btn-outline-success",3,"ngClass","click"]],template:function(a,p){a&1&&(n(0,"h2"),o(1,"Por Regi\xF3n"),i(),m(2,"hr"),n(3,"div",0)(4,"div",1)(5,"div",2),u(6,we,2,4,"button",3),i()()(),n(7,"div",0)(8,"div",1),m(9,"hr"),u(10,Le,1,0,"shared-spinner",4),m(11,"country-regionTabla",5),i()()),a&2&&(l(6),s("ngForOf",p.regions),l(4),s("ngIf",!p.isLoading),l(),s("countries",p.countries))},dependencies:[K,x,g,w,re]});let t=e;return t})();function Pe(t,e){t&1&&(n(0,"div",2),o(1,"Espere por favor"),i())}function Re(t,e){if(t&1&&(n(0,"div")(1,"div",4)(2,"div",5)(3,"h2"),o(4,"Pa\xEDs: "),n(5,"b"),o(6),i()(),m(7,"hr"),i()(),n(8,"div",4)(9,"div",6)(10,"h3"),o(11,"Bandera"),i(),m(12,"img",7),i(),n(13,"div",8)(14,"h3"),o(15,"Informaci\xF3n"),i(),n(16,"ul",9)(17,"li",10)(18,"b"),o(19,"Poblaci\xF3n: "),i(),o(20),i(),n(21,"li",10)(22,"b"),o(23,"C\xF3digo: "),i(),o(24),i()()()(),n(25,"div",11)(26,"div",8)(27,"h3"),o(28,"Traducciones"),i(),n(29,"div",12)(30,"span",13),o(31),i(),n(32,"span",13),o(33),i(),n(34,"span",13),o(35),i(),n(36,"span",13),o(37),i(),n(38,"span",13),o(39),i()()()()()),t&2){let c=e.$implicit;l(6),d(c.name.common),l(6),s("src",c.flags.svg,S)("alt",c.name.common),l(8),P(" ",c.population.toLocaleString(),""),l(4),P(" ",c.cca3,""),l(7),d(c.translations.spa.common),l(2),d(c.translations.por.common),l(2),d(c.translations.ita.common),l(2),d(c.translations.jpn.common),l(2),d(c.translations.kor.common)}}function Be(t,e){if(t&1&&(n(0,"div"),u(1,Re,40,10,"div",3),i()),t&2){let c=v();l(),s("ngForOf",c.countries)}}var le=(()=>{let e=class e{constructor(r,a,p){this.activatedRoute=r,this.countriesService=a,this.router=p,this.countries=[]}ngOnInit(){this.activatedRoute.params.pipe(V(({id:r})=>this.countriesService.search(r,"alpha"))).subscribe(r=>r[0]?(console.log(r),console.log(r[0]),this.countries=r):this.router.navigateByUrl("/countries/by-capital"))}};e.\u0275fac=function(a){return new(a||e)(y(X),y(I),y(Y))},e.\u0275cmp=f({type:e,selectors:[["country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(a,p){if(a&1&&u(0,Pe,2,0,"ng-template",null,0,_)(2,Be,2,1,"div",1),a&2){let h=b(1);l(2),s("ngIf",p.countries)("ngIfElse",h)}},dependencies:[x,g]});let t=e;return t})();var Ne=[{path:"by-capital",component:ie},{path:"by-country",component:oe},{path:"by-region",component:ae},{path:"by/:id",component:le},{path:"**",redirectTo:"by-capital"}],ce=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=B({type:e}),e.\u0275inj=R({imports:[O.forChild(Ne),O]});let t=e;return t})();var mt=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=B({type:e}),e.\u0275inj=R({imports:[Q,ce,Z]});let t=e;return t})();export{mt as CountriesModule};
